<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog site || Home page</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="shortcut icon" href="/images/Piyush logo.jpg" type="image/x-icon" />
</head>

<body>
    <div class="container">
        <h1>Your blog site</h1>
        <% for(post of posts){%>
            <div class="post">
                <h3 class="username">@<%= post.username %></h3>
                <p class="content"><%= post.content %></p>
                <div class="btn">
                    <button><a href="/posts/<%= post.id %>">Show in detail</a></button>
                    <button id="edit"><a href="/posts/<%= post.id %>/edit">Edit post</a></button>
                    <form action="/posts/<%= post.id %>?_method=DELETE" method="post" class="delete-post">
                        <button class="deletebtn" id="dlt">Delete post</button>
                    </form>
                </div>
            </div>
            <% }%>
            <form action="/posts/new" method="get">
                <button id="create-btn">Create new post</button>
            </form>
    </div>
</body>
<script>
    let btn = document.querySelector('#create-btn');
    let edit = document.querySelector('#edit');
    let dlt = document.querySelector('#dlt');
    btn.addEventListener('click', () => {
        createAlert();
    });
    edit.addEventListener('click', () => {
        editpost();
    });
    dlt.addEventListener('click', dlt());

    function dlt(){
        if (confirm("Are you sure to delete this Post?")) { 
            return true; 
        } else {  
            return false;  
        }
    };

    // Alert box on button click
    const createAlert = ()=>{
        alert('Please fill out all fields and press submit!','Info');
    };
    const editpost = ()=>{
        let pass = prompt('Enter your password');
    };
    ()=> {
        alert("Are you sure to delete this post?");   
    };
</script>
</html>
